# EchoTune AI Production Environment Configuration
# Copy this to .env and update with your actual values

# =============================================================================
# REQUIRED CONFIGURATION (Must be set for production deployment)
# =============================================================================

# Spotify API Configuration (REQUIRED)
SPOTIFY_CLIENT_ID=dcc2df507bde447c93a0199358ca219d
SPOTIFY_CLIENT_SECRET=128089720b414d1e8233290d94fb38a0
SPOTIFY_REDIRECT_URI=https://primosphere.studio/auth/callback

# Production Server Configuration
NODE_ENV=production
PORT=3000
DOMAIN=primosphere.studio
FRONTEND_URL=https://primosphere.studio
##spotify login 
## username - willexmen 
## password - shougang##
# Security Settings (REQUIRED for production)
SESSION_SECRET=your_super_secure_random_session_secret_min_32_chars
JWT_SECRET=your_super_secure_jwt_secret_for_api_tokens

# =============================================================================
# SECURITY AND PERFORMANCE CONFIGURATION
# =============================================================================

# Rate Limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# Request Size Limits
MAX_REQUEST_SIZE=10mb
COMPRESSION=true

# CORS Configuration
ENABLE_CORS=true
CORS_ORIGINS=https://primosphere.studio,https://www.primosphere.studio

# =============================================================================
# LOGGING AND MONITORING CONFIGURATION
# =============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=/opt/echotune/logs/app.log
ACCESS_LOG_FILE=/opt/echotune/logs/access.log
ERROR_LOG_FILE=/opt/echotune/logs/error.log

# Monitoring Settings
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
PERFORMANCE_MONITORING=true

# =============================================================================
# DATABASE CONFIGURATION (Choose one or more)
# =============================================================================

# MongoDB for analytics and ML data
MONGODB_URI=mongodb+srv://copilot:DapperMan77@cluster.mongodb.net/echotune_prod
MONGODB_DATABASE=echotune_production

# Supabase for user data and sessions (optional)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
DATABASE_URL=postgresql://username:password@db.your-project.supabase.co:5432/postgres

# Redis for session storage and caching (recommended for production)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password_if_required

# =============================================================================
# SSL AND CERTIFICATES CONFIGURATION
# =============================================================================

# SSL Configuration
SSL_CERT_PATH=/opt/echotune/ssl/primosphere.studio.crt
SSL_KEY_PATH=/opt/echotune/ssl/primosphere.studio.key

# Let's Encrypt Email for certificate generation
LETSENCRYPT_EMAIL=admin@primosphere.studio

# =============================================================================
# EMAIL AND NOTIFICATIONS CONFIGURATION
# =============================================================================

# Email Configuration (for notifications and alerts)
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password
FROM_EMAIL=noreply@primosphere.studio

# Alert Configuration
ALERT_EMAIL=admin@primosphere.studio
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# MONITORING AND ANALYTICS CONFIGURATION
# =============================================================================

# External Monitoring Services
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Performance Monitoring
RESPONSE_TIME_THRESHOLD=5000
CPU_THRESHOLD=80
MEMORY_THRESHOLD=85
DISK_THRESHOLD=90

# =============================================================================
# CACHING AND PERFORMANCE CONFIGURATION
# =============================================================================

# Cache Settings
CACHE_TTL=3600
SPOTIFY_API_CACHE_TTL=300
CACHE_ENABLED=true

# Performance Settings
CLUSTERING=false
WORKERS=auto
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000

# =============================================================================
# FEATURE FLAGS CONFIGURATION
# =============================================================================

# Feature Flags
ENABLE_RECOMMENDATIONS=true
ENABLE_PLAYLIST_CREATION=true
ENABLE_USER_ANALYTICS=true
ENABLE_CHAT_HISTORY=true
ENABLE_AI_FEATURES=true

# =============================================================================
# BACKUP AND MAINTENANCE CONFIGURATION
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true

# Remote Backup (optional)
REMOTE_BACKUP=false
AWS_S3_BUCKET=your-backup-bucket
AWS_REGION=us-east-1
REMOTE_BACKUP_PATH=user@backup-server:/path/to/backups

# =============================================================================
# DEVELOPMENT AND DEBUGGING (Disable in production)
# =============================================================================

# Debug Settings (should be false in production)
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_PROFILING=false

# =============================================================================
# ADVANCED CONFIGURATION (Optional)
# =============================================================================

# Load Balancer Configuration
TRUST_PROXY=true
PROXY_TIMEOUT=30000

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_PATH=/socket.io

# File Upload Configuration
UPLOAD_MAX_SIZE=50mb
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,audio/mpeg,audio/wav

# API Rate Limiting Per User
USER_RATE_LIMIT_WINDOW_MS=3600000
USER_RATE_LIMIT_MAX_REQUESTS=1000

# Session Configuration
SESSION_COOKIE_MAX_AGE=86400000
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=lax

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# =============================================================================
# PRODUCTION DEPLOYMENT NOTES
# =============================================================================

# 1. Ensure all REQUIRED variables are set with actual values
# 2. Generate strong random secrets for SESSION_SECRET and JWT_SECRET
# 3. Use HTTPS URLs for all external services in production
# 4. Configure firewall to allow only necessary ports (80, 443, 22)
# 5. Set up monitoring and alerting for production issues
# 6. Configure automated backups and test restore procedures
# 7. Use environment-specific database URLs (separate prod/staging/dev)
# 8. Enable SSL certificate auto-renewal with Let's Encrypt
# 9. Set up log rotation and monitoring to prevent disk space issues
# 10. Configure proper DNS with CAA records for SSL security

# =============================================================================
# SECURITY CHECKLIST
# =============================================================================

# [ ] All secrets are properly randomized and secure
# [ ] Database credentials are environment-specific
# [ ] CORS origins are restricted to production domains
# [ ] Rate limiting is properly configured
# [ ] SSL certificates are valid and auto-renewing
# [ ] Firewall allows only necessary ports
# [ ] Monitoring and alerting are configured
# [ ] Backup and restore procedures are tested
# [ ] Log files are rotated and secured
# [ ] All debugging features are disabled in production
